<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:sec="https://joinfaces.org/security"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">

<composite:interface>
    <!--  The default configuration-->
    <composite:attribute name="allowUnsorting" default="true"/>
    <composite:attribute name="ariaRowLabel"/>
    <composite:attribute name="binding" default="#{entityTableComponent}"/>
    <composite:attribute name="cellEditMode" default="eager"/>
    <composite:attribute name="cellSeparator"/>
    <composite:attribute name="clientCache" default="false"/>
    <composite:attribute name="currentPageReportTemplate"
                         default="#{msg['framework']['total']} {totalRecords}  #{msg['framework']['record']} ({currentPage} / {totalPages}) "/>
    <composite:attribute name="dataLocale"/>
    <composite:attribute name="dir" default="ltr"/>
    <composite:attribute name="disableContextMenuIfEmpty" default="false"/>
    <composite:attribute name="disabledSelection" default="false"/>
    <composite:attribute name="disabledTextSelection" default="false"/>
    <composite:attribute name="draggableColumns" default="false"/>
    <composite:attribute name="draggableRows" default="false"/>
    <composite:attribute name="draggableRowsFunction"/>
    <composite:attribute name="editInitEvent" default="dblclick"/>
    <composite:attribute name="editMode" default="cell"/>
    <composite:attribute name="editable" default="true"/>
    <composite:attribute name="editingRow" default="false"/>
    <composite:attribute name="emptyMessage" default="#{msg['framework']['noRecords']}"/>
    <composite:attribute name="escapeText" default="true"/>
    <composite:attribute name="expandedRow" default="false"/>
    <composite:attribute name="filterBy"/>
    <composite:attribute name="filterDelay" default="300"/>
    <composite:attribute name="filterEvent" default="enter"/>
    <composite:attribute name="filteredValue"/>
    <composite:attribute name="first" default="0"/>
    <composite:attribute name="frozenColumns" default="0"/>
    <composite:attribute name="frozenRows"/>
    <composite:attribute name="globalFilter"/>
    <composite:attribute name="globalFilterFunction"/>
    <composite:attribute name="id" default="dataTable"/>
    <composite:attribute name="lazy" default="false"/>
    <composite:attribute name="liveResize" default="false"/>
    <composite:attribute name="liveScroll" default="false"/>
    <composite:attribute name="liveScrollBuffer" default="0"/>
    <composite:attribute name="multiViewState" default="true"/>
    <composite:attribute name="nativeElements" default="false"/>
    <composite:attribute name="onExpandStart"/>
    <composite:attribute name="onRowClick" default="#{cc.attrs.widgetVar}_onRowClick()"/>
    <composite:attribute name="pageLinks" default="10"/>
    <composite:attribute name="paginator" default="true"/>
    <composite:attribute name="paginatorAlwaysVisible" default="true"/>
    <composite:attribute name="paginatorPosition" default="bottom"/>
    <composite:attribute name="paginatorTemplate"
                         default="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {JumpToPageInput}"/>
    <composite:attribute name="reflow" default="true"/>
    <composite:attribute name="rendered" default="true"/>
    <composite:attribute name="renderEmptyFacets" default="false"/>
    <composite:attribute name="resizableColumns" default="false"/>
    <composite:attribute name="resizeMode" default="fit"/>
    <composite:attribute name="rowDragSelector" default="td,span:not(.ui-c)"/>
    <composite:attribute name="rowEditMode" default="eager"/>
    <composite:attribute name="rowExpandMode" default="single"/>
    <composite:attribute name="rowHover" default="true"/>
    <composite:attribute name="rowIndexVar" default="index"/>
    <composite:attribute name="rowKey" default="#{element.id}"/>
    <composite:attribute name="rowSelectMode" default="new"/>
    <composite:attribute name="rowSelector" default="#{element.id}"/>
    <composite:attribute name="rowStatePreserved" default="false"/>
    <composite:attribute name="rowStyleClass"/>
    <composite:attribute name="rows" default="20"/>
    <composite:attribute name="rowsPerPageLabel"/>
    <composite:attribute name="rowsPerPageTemplate" default="10, 20, 50, 100"/>
    <composite:attribute name="saveOnCellBlur" default="true"/>
    <composite:attribute name="scrollHeight" default="100%"/>
    <composite:attribute name="scrollRows" default="10"/>
    <composite:attribute name="scrollWidth" default="100%"/>
    <composite:attribute name="scrollable" default="false"/>
    <composite:attribute name="selectionMode" default="multiple"/>
    <composite:attribute name="selectionPageOnly" default="true"/>
    <composite:attribute name="showGridlines" default="false"/>
    <composite:attribute name="size" default="small"/>
    <composite:attribute name="sortMode" default="multiple"/>
    <composite:attribute name="sortBy"/>
    <composite:attribute name="skipChildren" default="false"/>
    <composite:attribute name="stickyHeader" default="false"/>
    <composite:attribute name="stickyTopAt"/>
    <composite:attribute name="stripedRows" default="true"/>
    <composite:attribute name="style"/>
    <composite:attribute name="styleClass" default=""/>
    <composite:attribute name="summary"/>
    <composite:attribute name="tabindex"/>
    <composite:attribute name="tableStyle"/>
    <composite:attribute name="tableStyleClass"/>
    <composite:attribute name="value"/>
    <composite:attribute name="var" default="element"/>
    <composite:attribute name="virtualScroll" default="false"/>
    <composite:attribute name="widgetVar"
                         default="#{cc.clientId.replace(':','')}_dataTable"/>
    <composite:attribute name="touchable" default="true"/>


    <!-- coustom attrs-->
    <composite:attribute name="formDialogId" default=""/>
    <composite:attribute name="dialogWidgetVar" default="#{cc.attrs.formDialogId}_dialog"/>
    <composite:attribute name="singleSelection"/>
    <composite:attribute name="multipleSelection" type="java.util.List"/>
    <composite:attribute name="filterable" default="false"/>
    <composite:attribute name="outcomeBack" default="#{null}"/>
    <composite:attribute name="outcomeBackTitle" default="#{msg['framework']['getBack']}"/>
    <composite:attribute name="access"/>


    <!-- toolbar -->
    <composite:attribute name="enabledToolbar" default="true"/>
    <composite:attribute name="headText" default="#{null}"/>

    <composite:attribute name="uploadSupported" default="false"/>
    <composite:attribute name="exportSupported" default="false"/>

    <!-- row操作按钮-->
    <composite:attribute name="optionsSupport" default="true"/>
    <composite:attribute name="optionsWidth" default="100"/>

    <!--  add操作按钮-->
    <composite:attribute name="addTitle" default="#{msg['framework']['add']}"/>
    <composite:attribute name="addSupported" default="true"/>
    <composite:attribute name="addMethod" method-signature="void add()" default="#{controller.add}"/>
    <composite:attribute name="addUpdate" default=""/>
    <composite:attribute name="addOncomplete" default=""/>

    <!--  edit 操作按钮-->
    <composite:attribute name="editTitle" default="#{msg['framework']['edit']}"/>
    <composite:attribute name="editSupported" default="true"/>
    <composite:attribute name="editDisabled" default="false"/>
    <composite:attribute name="editMethod" method-signature="void edit()" default="#{controller.edit}"/>
    <composite:attribute name="editUpdate" default="@widgetVar(#{cc.attrs.dialogWidgetVar})"/>
    <composite:attribute name="editOncomplete"
                         default="PF('#{cc.attrs.dialogWidgetVar}').show();"/>

    <!--  delete操作按钮-->
    <composite:attribute name="deleteTitle" default="#{msg['framework']['delete']}"/>
    <composite:attribute name="deleteSupported" default="true"/>
    <composite:attribute name="deleteDisabled" default="false"/>
    <composite:attribute name="deleteMethod" method-signature="void delete()" default="#{controller.delete}"/>
    <composite:attribute name="deleteUpdate" default="@form"/>
    <composite:attribute name="deleteOncomplete" default=""/>


    <!--  refresh操作按钮-->
    <composite:attribute name="refreshSupported" default="true"/>
    <composite:attribute name="refreshMethod" method-signature="void onEntry()" default="#{controller.onEntry}"/>
    <composite:attribute name="refreshUpdate" default="@widgetVar(#{cc.attrs.widgetVar})"/>
    <composite:attribute name="refreshOncomplete" default=""/>


    <!--  facet -->
    <composite:facet name="header"/>
    <composite:facet name="footer"/>
    <composite:facet name="options"/>
    <composite:facet name="toolbar"/>

    <!--  event -->
    <composite:clientBehavior name="page" targets="entityDataTable" event="page"/>
    <composite:clientBehavior name="sort" targets="entityDataTable" event="sort"/>
    <composite:clientBehavior name="filter" targets="entityDataTable" event="filter"/>
    <composite:clientBehavior name="rowSelect" targets="entityDataTable" event="rowSelect"/>
    <composite:clientBehavior name="rowUnselect" targets="entityDataTable" event="rowUnselect"/>
    <composite:clientBehavior name="rowEdit" targets="entityDataTable" event="rowEdit"/>
    <composite:clientBehavior name="rowEditInit" targets="entityDataTable" event="rowEditInit"/>
    <composite:clientBehavior name="rowEditCancel" targets="entityDataTable" event="rowEditCancel"/>
    <composite:clientBehavior name="colResize" targets="entityDataTable" event="colResize"/>
    <composite:clientBehavior name="toggleSelect" targets="entityDataTable" event="toggleSelect"/>
    <composite:clientBehavior name="colReorder" targets="entityDataTable" event="colReorder"/>
    <composite:clientBehavior name="rowSelectRadio" targets="entityDataTable" event="rowSelectRadio"/>
    <composite:clientBehavior name="rowSelectCheckbox" targets="entityDataTable" event="rowSelectCheckbox"/>
    <composite:clientBehavior name="rowUnselectCheckbox" targets="entityDataTable" event="rowUnselectCheckbox"/>
    <composite:clientBehavior name="rowDblselect" targets="entityDataTable" event="rowDblselect"/>
    <composite:clientBehavior name="rowToggle" targets="entityDataTable" event="rowToggle"/>
    <composite:clientBehavior name="contextMenu" targets="entityDataTable" event="contextMenu"/>
    <composite:clientBehavior name="cellEdit" targets="entityDataTable" event="cellEdit"/>
    <composite:clientBehavior name="cellEditInit" targets="entityDataTable" event="cellEditInit"/>
    <composite:clientBehavior name="cellEditCancel" targets="entityDataTable" event="cellEditCancel"/>
    <composite:clientBehavior name="rowReorder" targets="entityDataTable" event="rowReorder"/>


</composite:interface>

<composite:implementation>
    <script>
        String.prototype.format = function () {
            if (arguments.length == 0) return this;
            for (var s = this, i = 0; i &lt; arguments.length; i++) {
                s = s.replace(new RegExp("\\{" + i + "\\}", "g"), arguments[i]);
            }
            return s;
        };

        function #{cc.attrs.widgetVar}_onRowClick() {
            const count = PF('#{cc.attrs.widgetVar}').getSelectedRowsCount();
            let msg = "#{msg['framework']['selectedRecord']}"
            let delBtnVar = PF('#{cc.attrs.widgetVar}_deleteBtn')
            if (!delBtnVar) {
                return false;
            }
            let delText = delBtnVar.jq.find('.ui-button-text').text().split(" ")[0]
            if (count) {
                PF('#{cc.attrs.widgetVar}_deleteBtn').enable()
                PF('#{cc.attrs.widgetVar}_deleteBtn').jq.find('.ui-button-text').text(delText + " " + msg.format(count))
            } else {
                PF('#{cc.attrs.widgetVar}_deleteBtn').disable()
                PF('#{cc.attrs.widgetVar}_deleteBtn').jq.find('.ui-button-text').text(delText)
            }
        }


        function #{cc.attrs.widgetVar}_handleComplete(xhr, status, args) {
            if (!args.validationFailed) {
                PF('#{cc.attrs.widgetVar}').hide();
            }
        }

    </script>
    <h:outputStylesheet>
        .entity-block {
            z-index: 100 !important;
        }
    </h:outputStylesheet>

    <p:toolbar id="entityToolbar" styleClass="ui-my-toolbar">
        <f:facet name="left">
            <p:outputPanel rendered="#{cc.attrs.enabledToolbar}" layout="inline">
                <p:commandButton id="addBtn" widgetVar="#{cc.attrs.widgetVar}_addBtn" icon="pi pi-plus"
                                 styleClass="ui-button-success p-mr-2"
                                 value="#{cc.attrs.addTitle}"
                                 rendered="#{cc.attrs.addSupported}"
                                 action="#{cc.attrs.addMethod}"
                                 update="@widgetVar(#{cc.attrs.dialogWidgetVar}), #{cc.attrs.addUpdate}"
                                 oncomplete="PF('#{cc.attrs.dialogWidgetVar}').show(); #{cc.attrs.addOncomplete}"/>
                <p:commandButton id="deleteBtn" widgetVar="#{cc.attrs.widgetVar}_deleteBtn" icon="pi pi-trash"
                                 styleClass="ui-button-danger p-mr-2" disabled="true"
                                 value="#{cc.attrs.deleteTitle}"
                                 rendered="#{cc.attrs.deleteSupported}"
                                 onclick="PF('#{cc.attrs.widgetVar}_delete_tips').show()"/>

            </p:outputPanel>
            <composite:renderFacet name="toolbar"/>
            <p:outputPanel layout="inline">
                <p:linkButton id="backBtn" widgetVar="#{cc.attrs.widgetVar}_backBtn" icon="pi pi-arrow-left"
                              style="margin-right: .5rem;" styleClass="back-btn"
                              value="#{cc.attrs.outcomeBackTitle}" outcome="#{cc.attrs.outcomeBack}"
                              rendered="#{cc.attrs.outcomeBack ne null}">
                </p:linkButton>
            </p:outputPanel>
        </f:facet>

        <f:facet name="right">
            <p:fileUpload mode="simple" skinSimple="true" label="#{msg['framework']['import']}"
                          chooseIcon="pi pi-download" rendered="#{cc.attrs.uploadSupported}"/>
            <p:commandButton value="#{msg['framework']['export']}" icon="pi pi-upload" styleClass="ui-button-help"
                             ajax="false" rendered="#{cc.attrs.exportSupported}">
                <p:dataExporter type="xls" target="entityDataTable" fileName="data"/>
            </p:commandButton>
        </f:facet>
    </p:toolbar>
    <p:sticky target="entityToolbar" margin="50"/>
    <p:blockUI block="entityDataTable" trigger="entityDataTable" styleClass="entity-block">
        <p:graphicImage name="images/ajaxloadingbar.gif" library="common" style="left: 950px;
            top: 500px;
            z-index: 100;
            display: block;
            position: fixed;"/>
    </p:blockUI>
    <p:tooltip position="bottom"/>
    <p:dataTable id="entityDataTable"
                 allowUnsorting="#{cc.attrs.allowUnsorting}"
                 ariaRowLabel="#{cc.attrs.ariaRowLabel}"
                 binding="#{cc.attrs.binding}"
                 cellEditMode="#{cc.attrs.cellEditMode}"
                 cellSeparator="#{cc.attrs.cellSeparator}"
                 clientCache="#{cc.attrs.clientCache}"
                 currentPageReportTemplate="#{cc.attrs.currentPageReportTemplate}"
                 dataLocale="#{cc.attrs.dataLocale}"
                 dir="#{cc.attrs.dir}"
                 disableContextMenuIfEmpty="#{cc.attrs.disableContextMenuIfEmpty}"
                 disabledSelection="#{cc.attrs.disabledSelection}"
                 disabledTextSelection="#{cc.attrs.disabledTextSelection}"
                 draggableColumns="#{cc.attrs.draggableColumns}"
                 draggableRows="#{cc.attrs.draggableRows}"
                 draggableRowsFunction="#{cc.attrs.draggableRowsFunction}"
                 editInitEvent="#{cc.attrs.editInitEvent}"
                 editMode="#{cc.attrs.editMode}"
                 editable="#{cc.attrs.editable}"
                 editingRow="#{cc.attrs.editingRow}"
                 emptyMessage="#{cc.attrs.emptyMessage}"
                 escapeText="#{cc.attrs.escapeText}"
                 expandedRow="#{cc.attrs.expandedRow}"
                 filterEvent="#{cc.attrs.filterEvent}"
                 filterBy="#{cc.attrs.filterBy}"
                 filterDelay="#{cc.attrs.filterDelay}"
                 filteredValue="#{cc.attrs.filteredValue}"
                 first="#{cc.attrs.first}"
                 frozenColumns="#{cc.attrs.frozenColumns}"
                 frozenRows="#{cc.attrs.frozenRows}"
                 lazy="#{cc.attrs.lazy}"
                 liveResize="#{cc.attrs.liveResize}"
                 liveScroll="#{cc.attrs.liveScroll}"
                 liveScrollBuffer="#{cc.attrs.liveScrollBuffer}"
                 multiViewState="#{cc.attrs.multiViewState}"
                 nativeElements="#{cc.attrs.nativeElements}"
                 onExpandStart="#{cc.attrs.onExpandStart}"
                 onRowClick="#{cc.attrs.onRowClick}"
                 pageLinks="#{cc.attrs.pageLinks}"
                 paginator="#{cc.attrs.paginator}"
                 paginatorAlwaysVisible="#{cc.attrs.paginatorAlwaysVisible}"
                 paginatorPosition="#{cc.attrs.paginatorPosition}"
                 paginatorTemplate="#{cc.attrs.paginatorTemplate}"
                 reflow="#{cc.attrs.reflow}"
                 rendered="#{cc.attrs.rendered}"
                 renderEmptyFacets="#{cc.attrs.renderEmptyFacets}"
                 resizableColumns="#{cc.attrs.resizableColumns}"
                 resizeMode="#{cc.attrs.resizeMode}"
                 rowDragSelector="#{cc.attrs.rowDragSelector}"
                 rowEditMode="#{cc.attrs.rowEditMode}"
                 rowExpandMode="#{cc.attrs.rowExpandMode}"
                 rowHover="#{cc.attrs.rowHover}"
                 rowIndexVar="#{cc.attrs.rowIndexVar}"
                 rowKey="#{cc.attrs.rowKey}"
                 rowSelectMode="#{cc.attrs.rowSelectMode}"
                 rowSelector="#{cc.attrs.rowSelector}"
                 rowStatePreserved="#{cc.attrs.rowStatePreserved}"
                 rowStyleClass="#{cc.attrs.rowStyleClass}"
                 rows="#{cc.attrs.rows}"
                 rowsPerPageLabel="#{cc.attrs.rowsPerPageLabel}"
                 rowsPerPageTemplate="#{cc.attrs.rowsPerPageTemplate}"
                 saveOnCellBlur="#{cc.attrs.saveOnCellBlur}"
                 scrollHeight="#{cc.attrs.scrollHeight}"
                 scrollRows="#{cc.attrs.scrollRows}"
                 scrollWidth="#{cc.attrs.scrollWidth}"
                 scrollable="#{cc.attrs.scrollable}"
                 selection="#{cc.attrs.multipleSelection}"
                 selectionPageOnly="#{cc.attrs.selectionPageOnly}"
                 showGridlines="#{cc.attrs.showGridlines}"
                 size="#{cc.attrs.size}"
                 sortMode="#{cc.attrs.sortMode}"
                 sortBy="#{cc.attrs.sortBy}"
                 skipChildren="#{cc.attrs.skipChildren}"
                 stickyHeader="#{cc.attrs.stickyHeader}"
                 stickyTopAt="#{cc.attrs.stickyTopAt}"
                 stripedRows="#{cc.attrs.stripedRows}"
                 style="#{cc.attrs.style}"
                 styleClass="#{cc.attrs.styleClass} #{cc.attrs.widgetVar} content"
                 summary="#{cc.attrs.summary}"
                 tabindex="#{cc.attrs.tabindex}"
                 tableStyle="#{cc.attrs.tableStyle}"
                 tableStyleClass="#{cc.attrs.tableStyleClass}"
                 value="#{cc.attrs.value}"
                 virtualScroll="#{cc.attrs.virtualScroll}"
                 widgetVar="#{cc.attrs.widgetVar}"
                 touchable="#{cc.attrs.touchable}"
                 var="element">
        <c:set target="#{component}" property="var" value="#{cc.attrs.var}"/>
        <c:set target="#{component}" property="globalFilterFunction" value="#{cc.attrs.globalFilterFunction}"/>
        <c:set target="#{component}" property="globalFilter" value="#{cc.attrs.globalFilter}"/>


        <p:ajax event="toggleSelect" oncomplete="#{cc.attrs.widgetVar}_onRowClick()" global="false"/>
        <f:facet name="header">
            <p:outputPanel styleClass="p-d-flex p-jc-between">
                <p:outputPanel styleClass="p-text-bold p-text-xl"
                               rendered="#{cc.attrs.headText eq null}">
                    <composite:renderFacet name="header"/>
                </p:outputPanel>

                <h:outputText styleClass="p-text-bold p-text-xl" rendered="#{cc.attrs.headText ne null}"
                              value="#{cc.attrs.headText}"/>

                <p:outputPanel layout="inline" styleClass="ui-inputgroup">

                    <p:inputText id="globalFilter" style="width:150px" rendered="#{cc.attrs.filterable}"
                                 placeholder="#{msg['framework']['enterKeyword']}"/>
                    <p:commandButton id="searchBtn" type="button" icon="fa fa-search" rendered="#{cc.attrs.filterable}"
                                     onclick="PF('#{cc.attrs.widgetVar}').filter()"/>

                    <p:commandButton id="refreshBtn" widgetVar="refreshBtn" icon="fa fa-refresh"
                                     onclick="PF('#{cc.attrs.widgetVar}').clearFilters()"
                                     action="#{cc.attrs.refreshMethod}"
                                     update="#{cc.attrs.refreshUpdate}, @(.ui-column-filter)"
                                     oncomplete="#{cc.attrs.refreshOncomplete}"/>
                    <p:commandButton id="toggler" type="button" icon="pi pi-align-justify"/>
                    <p:columnToggler id="columnToggler" datasource="entityDataTable" trigger="toggler"/>
                </p:outputPanel>
            </p:outputPanel>
        </f:facet>

        <p:column selectionMode="#{cc.attrs.selectionMode}" width="20" exportable="false" toggleable="false"/>

        <composite:insertChildren/>


        <p:column toggleable="false" exportable="false" width="#{cc.attrs.optionsWidth}"
                  rendered="#{cc.attrs.optionsSupport}">

            <composite:renderFacet name="options"/>

            <p:commandButton id="editBtn" icon="pi pi-pencil" process="@this"
                             styleClass="rounded-button ui-button-success p-mr-2 p-mb-2"
                             async="true"
                             pt:data-tooltip="#{cc.attrs.editTitle}"
                             rendered="#{cc.attrs.editSupported}"
                             disabled="#{cc.attrs.editDisabled}"
                             action="#{cc.attrs.editMethod}"
                             update="#{cc.attrs.editUpdate}"
                             oncomplete="#{cc.attrs.editOncomplete}">
                <f:setPropertyActionListener value="#{element}" target="#{cc.attrs.singleSelection}"/>
            </p:commandButton>
            <p:commandButton id="delBtn" icon="pi pi-trash" process="@this"
                             styleClass="ui-button-warning rounded-button p-mr-2 p-mb-2"
                             async="true"
                             pt:data-tooltip="#{cc.attrs.deleteTitle}"
                             rendered="#{cc.attrs.deleteSupported}"
                             action="#{cc.attrs.deleteMethod}"
                             update="#{cc.attrs.deleteUpdate}"
                             oncomplete="#{cc.attrs.deleteOncomplete}">
                <f:setPropertyActionListener value="#{element}" target="#{cc.attrs.singleSelection}"/>
                <p:confirm header="#{msg['framework']['message']}" message="#{msg['framework']['confirmDeletion']}"
                           icon="pi pi-exclamation-triangle"/>
            </p:commandButton>
        </p:column>
        <f:facet name="footer">
            <composite:renderFacet name="footer"/>
        </f:facet>
    </p:dataTable>


    <p:confirmDialog id="#{cc.attrs.widgetVar}_delete_tip" widgetVar="#{cc.attrs.widgetVar}_delete_tips"
                     rendered="#{cc.attrs.deleteSupported}" severity="warn"
                     header="#{msg['framework']['message']}" message="#{msg['framework']['confirmDeletion']}"
                     showEffect="fade" hideEffect="fade" width="400">
        <p:commandButton
                id="deleteButton" styleClass="ui-confirmdialog-yes" icon="pi pi-check"
                value="#{msg['framework']['confirm']}" process="@form"
                rendered="#{cc.attrs.deleteSupported}"
                action="#{cc.attrs.deleteMethod}"
                update="#{cc.attrs.deleteUpdate}"
                oncomplete="PF('#{cc.attrs.widgetVar}_delete_tips').hide(); PF('#{cc.attrs.widgetVar}').unselectAllRows(); #{cc.attrs.deleteOncomplete}">
            <f:setPropertyActionListener value="#{null}" target="#{cc.attrs.singleSelection}"/>
        </p:commandButton>
        <p:commandButton value="#{msg['framework']['cancel']}" type="button"
                         styleClass="ui-confirmdialog-no ui-button-secondary" icon="pi pi-times"
                         onclick="PF('#{cc.attrs.widgetVar}_delete_tips').hide()"/>
    </p:confirmDialog>

</composite:implementation>
</html>
